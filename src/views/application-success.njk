{% extends "templates/layout.njk" %}

{% block applicationTitle %}
    {% if isEdit %}Application Updated{% else %}Application Submitted{% endif %} | Kainos
{% endblock %}

{% block content %}
<main id="main-content" class="pt-4">
<div class="container mx-auto px-4 py-8">
    <!-- Header Section -->
    <header class="text-center mb-12">
        <div class="bg-gradient-to-r from-green-600 via-blue-600 to-green-700 rounded-3xl shadow-2xl p-12 text-white relative overflow-hidden">
            <!-- Animated background -->
            <div class="absolute inset-0 bg-gradient-to-r from-green-600/20 via-blue-600/20 to-green-700/20 animate-pulse"></div>
            
            <!-- Decorative elements -->
            <div class="absolute top-4 right-4 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"></div>
            <div class="absolute bottom-4 left-4 w-16 h-16 bg-green-400/20 rounded-full blur-lg animate-pulse" style="animation-delay: 1s"></div>

            <!-- Content -->
            <div class="relative z-10">
                <!-- Kainos Logo -->
                <div class="flex items-center justify-center mb-8">
                    <img src="/kainos-dark-bg.png" alt="Kainos Logo" class="h-16 w-auto">
                </div>
                
                <!-- Success Icon -->
                <div class="mb-6">
                    <span class="icon text-8xl">{% if isEdit %}‚úèÔ∏è{% else %}‚úÖ{% endif %}</span>
                </div>
                
                <h1 class="text-4xl md:text-6xl font-light mb-6">
                    {% if isEdit %}
                        Application Updated!
                    {% else %}
                        Application Submitted!
                    {% endif %}
                </h1>
                
                <div class="bg-white/20 backdrop-blur-sm rounded-2xl p-6 inline-block">
                    <p class="text-xl">
                        {% if isEdit %}
                            Your changes have been saved
                        {% else %}
                            Thank you for your interest in Kainos
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-4xl mx-auto">
        <!-- Success Message Card -->
        <div class="bg-white rounded-2xl shadow-lg mb-8 p-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <span class="icon text-green-600 text-2xl">üéâ</span>
                {% if isEdit %}
                    Application Successfully Updated
                {% else %}
                    Your Application is In Progress
                {% endif %}
            </h2>
            
            <div class="bg-green-50 border-l-4 border-green-600 p-6 rounded-xl mb-6">
                <p class="text-lg text-green-900 leading-relaxed">
                    {% if isEdit %}
                        Your application for the <strong>{{ jobRole.roleName }}</strong> position has been updated successfully. 
                        The changes you made will be reviewed by our recruitment team.
                    {% else %}
                        We've received your application for the <strong>{{ jobRole.roleName }}</strong> position. 
                        Your application status has been set to <strong>"In Progress"</strong> and our recruitment team will review it shortly.
                    {% endif %}
                </p>
            </div>

            <!-- Application Details -->
            <div class="space-y-4">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Application Details</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex items-start gap-3 p-4 bg-blue-50 rounded-xl">
                        <span class="icon text-blue-600 text-2xl mt-1">üìã</span>
                        <div>
                            <p class="text-sm text-gray-600 font-medium">Application ID</p>
                            <p class="font-semibold text-gray-900">#{{ application.applicationId }}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start gap-3 p-4 bg-green-50 rounded-xl">
                        <span class="icon text-green-600 text-2xl mt-1">‚úì</span>
                        <div>
                            <p class="text-sm text-gray-600 font-medium">Status</p>
                            <p class="font-semibold text-green-700">{{ application.status }}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start gap-3 p-4 bg-purple-50 rounded-xl">
                        <span class="icon text-purple-600 text-2xl mt-1">üíº</span>
                        <div>
                            <p class="text-sm text-gray-600 font-medium">Position</p>
                            <p class="font-semibold text-gray-900">{{ jobRole.roleName }}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start gap-3 p-4 bg-orange-50 rounded-xl">
                        <span class="icon text-orange-600 text-2xl mt-1">üìÖ</span>
                        <div>
                            <p class="text-sm text-gray-600 font-medium">Submitted At</p>
                            <p class="font-semibold text-gray-900">{{ application.submittedAt | formatDateTime }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Applicant Information -->
            <div class="space-y-4 mt-8">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Your Information</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex items-start gap-3 p-4 bg-slate-50 rounded-xl">
                        <span class="icon text-slate-600 text-2xl mt-1">üë§</span>
                        <div>
                            <p class="text-sm text-gray-600 font-medium">Name</p>
                            <p class="font-semibold text-gray-900">{{ application.applicantName }}</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start gap-3 p-4 bg-slate-50 rounded-xl">
                        <span class="icon text-slate-600 text-2xl mt-1">üìß</span>
                        <div>
                            <p class="text-sm text-gray-600 font-medium">Email</p>
                            <p class="font-semibold text-gray-900">{{ application.applicantEmail }}</p>
                        </div>
                    </div>
                </div>

                {% if application.coverLetter %}
                <div class="p-4 bg-slate-50 rounded-xl">
                    <div class="flex items-start gap-3">
                        <span class="icon text-slate-600 text-2xl mt-1">üìù</span>
                        <div class="flex-1">
                            <p class="text-sm text-gray-600 font-medium mb-2">Cover Letter</p>
                            <p class="text-gray-700 leading-relaxed">{{ application.coverLetter }}</p>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Next Steps Card -->
        <div class="bg-white rounded-2xl shadow-lg mb-8 p-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <span class="icon text-blue-600 text-2xl">üöÄ</span>
                What Happens Next?
            </h2>
            
            <div class="space-y-4">
                <div class="flex items-start gap-4 p-4 bg-blue-50 rounded-xl">
                    <div class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">
                        1
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900 mb-2">Application Review</h3>
                        <p class="text-gray-700">Our recruitment team will carefully review your CV and qualifications against the job requirements.</p>
                    </div>
                </div>
                
                <div class="flex items-start gap-4 p-4 bg-green-50 rounded-xl">
                    <div class="flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold">
                        2
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900 mb-2">Initial Screening</h3>
                        <p class="text-gray-700">If your application is shortlisted, we'll contact you for an initial screening call within 1-2 weeks.</p>
                    </div>
                </div>
                
                <div class="flex items-start gap-4 p-4 bg-purple-50 rounded-xl">
                    <div class="flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold">
                        3
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900 mb-2">Interview Process</h3>
                        <p class="text-gray-700">Successful candidates will be invited to participate in our interview process to assess skills and cultural fit.</p>
                    </div>
                </div>
                
                <div class="flex items-start gap-4 p-4 bg-orange-50 rounded-xl">
                    <div class="flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold">
                        4
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900 mb-2">Final Decision</h3>
                        <p class="text-gray-700">We'll keep you updated throughout the process and notify you of our final decision.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="bg-white rounded-2xl shadow-lg mb-8 p-8">
            <div class="flex flex-col md:flex-row gap-6 justify-center">
                <a href="/job-roles" class="inline-flex items-center px-8 py-4 bg-white border-2 border-blue-600 text-blue-600 font-bold rounded-xl shadow-lg hover:bg-blue-50 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200">
                    <span class="icon mr-3 text-xl">üíº</span>
                    Browse Other Opportunities
                </a>
                
                <a href="/" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-green-600 text-white font-bold rounded-xl shadow-lg hover:from-blue-700 hover:to-green-700 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200">
                    <span class="icon mr-3 text-xl">üè†</span>
                    Back to Home
                </a>
            </div>
        </div>

        <!-- Contact Information -->
        <div class="bg-gray-50 rounded-2xl shadow-lg p-6 text-center">
            <p class="text-gray-700 mb-2">
                <span class="icon text-gray-500">üìß</span>
                Have questions about your application?
            </p>
            <p class="text-gray-600">
                Contact our recruitment team at 
                <a href="mailto:careers@kainos.com" class="text-blue-600 hover:text-blue-700 font-medium underline">careers@kainos.com</a>
            </p>
        </div>
    </div>
</div>
</main>
{% endblock %}
