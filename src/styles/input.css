@import "tailwindcss";
@plugin "daisyui";

/* Text Size Classes */
:root {
	--text-scale: 1;
}

.text-size-small {
	--text-scale: 0.875;
}

.text-size-medium {
	--text-scale: 1;
}

.text-size-large {
	--text-scale: 1.125;
}

.text-size-xlarge {
	--text-scale: 1.25;
}

/* Apply text scaling to content - using higher specificity instead of !important */
html.text-size-small body,
html.text-size-small p,
html.text-size-small span,
html.text-size-small div,
html.text-size-small a,
html.text-size-small li {
	font-size: calc(1rem * 0.875);
}

html.text-size-large body,
html.text-size-large p,
html.text-size-large span,
html.text-size-large div,
html.text-size-large a,
html.text-size-large li {
	font-size: calc(1rem * 1.125);
}

html.text-size-xlarge body,
html.text-size-xlarge p,
html.text-size-xlarge span,
html.text-size-xlarge div,
html.text-size-xlarge a,
html.text-size-xlarge li {
	font-size: calc(1rem * 1.25);
}

/* Active button styling - using higher specificity */
#accessibility-panel .text-size-btn.active {
	background-color: #2563eb;
	color: white;
}

#accessibility-panel .text-size-btn.active:hover {
	background-color: #1d4ed8;
}

/* Accessibility Panel Mobile Positioning - using higher specificity */
@media (max-width: 768px) {
	body #accessibility-panel {
		position: fixed;
		top: 50%;
		left: 50%;
		right: auto;
		transform: translate(-50%, -50%);
		width: 90vw;
		max-width: 320px;
	}
}

/* Enhanced Focus Indicators for Accessibility */
/* Remove default browser outline */
*:focus {
	outline: none;
}

/* Custom focus styles for better visibility */
button:focus,
a:focus,
[role="button"]:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 3px solid #3b82f6;
	outline-offset: 2px;
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
	transition: outline 0.2s ease, box-shadow 0.2s ease;
}

/* Special focus style for buttons with background colors */
button:focus:not(.text-size-btn),
[role="button"]:focus {
	outline: 3px solid #ffffff;
	outline-offset: 2px;
	box-shadow: 
		0 0 0 3px rgba(59, 130, 246, 0.6),
		0 0 0 6px rgba(59, 130, 246, 0.3);
}

/* Focus style for links */
a:focus {
	outline: 3px solid #3b82f6;
	outline-offset: 2px;
	border-radius: 4px;
	background-color: rgba(59, 130, 246, 0.1);
}

/* Focus style for accessibility buttons */
#accessibility-btn:focus,
#accessibility-btn-mobile:focus,
.text-size-btn:focus {
	outline: 3px solid #ffffff;
	outline-offset: 2px;
	box-shadow: 
		0 0 0 3px rgba(255, 255, 255, 0.8),
		0 0 0 6px rgba(59, 130, 246, 0.6);
}

/* Focus style for cards and interactive containers */
.hover\:shadow-lg:focus,
.hover\:shadow-xl:focus {
	outline: 2px solid #3b82f6;
	outline-offset: 3px;
	box-shadow: 
		0 0 0 2px rgba(59, 130, 246, 0.3),
		0 10px 25px -3px rgba(0, 0, 0, 0.1),
		0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Ensure focus is visible on touch devices too */
@media (hover: none) {
	button:focus,
	a:focus,
	[role="button"]:focus {
		outline: 3px solid #3b82f6;
		outline-offset: 2px;
	}
}

/* High Contrast Mode */
.high-contrast {
	/* Override background colors */
	background: #000000 !important;
	color: #ffffff !important;
}

/* High contrast for main sections */
.high-contrast main,
.high-contrast header,
.high-contrast section,
.high-contrast div {
	background: #000000 !important;
	color: #ffffff !important;
}

/* High contrast for cards and containers */
.high-contrast .bg-white,
.high-contrast .bg-slate-50,
.high-contrast .bg-slate-100,
.high-contrast .bg-slate-200 {
	background: #1a1a1a !important;
	color: #ffffff !important;
	border: 2px solid #ffffff !important;
}

/* High contrast for gradients - convert to solid high contrast colors */
.high-contrast .bg-gradient-to-r,
.high-contrast .bg-gradient-to-br {
	background: #000000 !important;
	color: #ffffff !important;
	border: 3px solid #ffffff !important;
}

/* High contrast for buttons */
.high-contrast button,
.high-contrast .btn {
	background: #ffffff !important;
	color: #000000 !important;
	border: 2px solid #ffffff !important;
	font-weight: bold !important;
}

.high-contrast button:hover,
.high-contrast .btn:hover {
	background: #ffff00 !important;
	color: #000000 !important;
	border: 2px solid #ffff00 !important;
}

/* High contrast for links */
.high-contrast a {
	color: #ffff00 !important;
	text-decoration: underline !important;
	font-weight: bold !important;
}

.high-contrast a:hover {
	color: #ffffff !important;
	background: #ffff00 !important;
	padding: 2px 4px !important;
}

/* High contrast for text colors */
.high-contrast .text-slate-700,
.high-contrast .text-slate-600,
.high-contrast .text-slate-800,
.high-contrast .text-gray-900,
.high-contrast .text-gray-800,
.high-contrast .text-blue-600 {
	color: #ffffff !important;
}

/* High contrast for navigation */
.high-contrast nav {
	background: #000000 !important;
	border-bottom: 3px solid #ffffff !important;
}

/* High contrast for footer */
.high-contrast footer {
	background: #000000 !important;
	border-top: 3px solid #ffffff !important;
}

/* High contrast for accessibility panel */
.high-contrast #accessibility-panel {
	background: #1a1a1a !important;
	border: 3px solid #ffffff !important;
	color: #ffffff !important;
}

/* High contrast for form elements */
.high-contrast input,
.high-contrast select,
.high-contrast textarea {
	background: #ffffff !important;
	color: #000000 !important;
	border: 2px solid #ffffff !important;
}

/* High contrast focus indicators */
.high-contrast *:focus {
	outline: 4px solid #ffff00 !important;
	outline-offset: 2px !important;
	box-shadow: 0 0 0 6px rgba(255, 255, 0, 0.5) !important;
}

/* High contrast for status indicators */
.high-contrast .bg-green-50,
.high-contrast .bg-blue-50,
.high-contrast .bg-purple-50 {
	background: #333333 !important;
	border: 2px solid #ffffff !important;
}

/* High contrast for badges */
.high-contrast .badge,
.high-contrast .badge-success,
.high-contrast .badge-warning,
.high-contrast .badge-error {
	background: #ffffff !important;
	color: #000000 !important;
	border: 2px solid #ffffff !important;
	font-weight: bold !important;
}

/* Keyboard User Enhancements */
.keyboard-user *:focus {
	/* Enhanced focus for keyboard users */
	outline-width: 4px !important;
	box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.4) !important;
}

/* Improved interactive element indicators for keyboard users */
.keyboard-user [role="link"],
.keyboard-user [role="button"] {
	cursor: pointer;
}

.keyboard-user [role="link"]:focus,
.keyboard-user [role="button"]:focus {
	outline: 3px solid #3b82f6;
	outline-offset: 2px;
	background-color: rgba(59, 130, 246, 0.1);
}
