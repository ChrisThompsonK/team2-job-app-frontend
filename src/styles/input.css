@import "tailwindcss";
@plugin "daisyui";

/* Optimized text scaling - use inherit pattern and CSS custom properties */
html.text-size-small { --text-scale: 0.875; }
html.text-size-medium { --text-scale: 1; }
html.text-size-large { --text-scale: 1.125; }
html.text-size-xlarge { --text-scale: 1.25; }

html[class*="text-size-"] body,
html[class*="text-size-"] p,
html[class*="text-size-"] span,
html[class*="text-size-"] div,
html[class*="text-size-"] a,
html[class*="text-size-"] li {
	font-size: calc(1rem * var(--text-scale, 1));
}

/* Active button styling - using higher specificity */
#accessibility-panel .text-size-btn.active {
	background-color: #2563eb;
	color: white;
}

#accessibility-panel .text-size-btn.active:hover {
	background-color: #1d4ed8;
}

/* Accessibility Panel Mobile Positioning - using higher specificity */
@media (max-width: 768px) {
	body #accessibility-panel {
		position: fixed;
		top: 50%;
		left: 50%;
		right: auto;
		transform: translate(-50%, -50%);
		width: 90vw;
		max-width: 320px;
	}
}

/* Enhanced Focus Indicators - Optimized with grouped selectors */
*:focus { outline: none; }

/* Unified focus styles for interactive elements */
button:focus,
a:focus,
[role="button"]:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 3px solid #3b82f6;
	outline-offset: 2px;
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
	transition: outline 0.2s ease, box-shadow 0.2s ease;
}

/* Special focus for buttons with backgrounds */
button:focus:not(.text-size-btn),
[role="button"]:focus,
#accessibility-btn:focus,
#accessibility-btn-mobile:focus,
.text-size-btn:focus {
	outline: 3px solid #ffffff;
	outline-offset: 2px;
	box-shadow: 
		0 0 0 3px rgba(255, 255, 255, 0.8),
		0 0 0 6px rgba(59, 130, 246, 0.6);
}

/* Links get a background highlight */
a:focus {
	border-radius: 4px;
	background-color: rgba(59, 130, 246, 0.1);
}

/* Interactive cards focus */
.hover\:shadow-lg:focus,
.hover\:shadow-xl:focus {
	outline: 2px solid #3b82f6;
	outline-offset: 3px;
	box-shadow: 
		0 0 0 2px rgba(59, 130, 246, 0.3),
		0 10px 25px -3px rgba(0, 0, 0, 0.1),
		0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Touch device compatibility and keyboard user enhancements */
@media (hover: none) {
	button:focus,
	a:focus,
	[role="button"]:focus {
		outline: 3px solid #3b82f6;
		outline-offset: 2px;
	}
}

/* Enhanced focus for keyboard users */
.keyboard-user *:focus {
	outline-width: 4px !important;
	box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.4) !important;
}

.keyboard-user [role="link"]:focus,
.keyboard-user [role="button"]:focus {
	outline: 3px solid #3b82f6;
	outline-offset: 2px;
	background-color: rgba(59, 130, 246, 0.1);
}

/* Dark Mode - Optimized with grouped selectors */
.dark-mode {
	background: #0f172a;
	color: #f1f5f9;
}

.dark-mode body {
	background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
	color: #f1f5f9;
}

.dark-mode main,
.dark-mode section {
	background: transparent;
	color: #f1f5f9;
}

/* Consolidated background overrides */
.dark-mode .bg-white,
.dark-mode .bg-slate-50,
.dark-mode .bg-slate-100 {
	background: #1e293b !important;
	color: #f1f5f9 !important;
	border: 1px solid #475569 !important;
}

.dark-mode .bg-slate-200 {
	background: #475569 !important;
	color: #f1f5f9 !important;
}

/* Consolidated gradient overrides */
.dark-mode .bg-gradient-to-r,
.dark-mode .bg-gradient-to-br,
.dark-mode .from-blue-600.to-green-600,
.dark-mode .from-blue-600.via-blue-700.to-green-600 {
	background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%) !important;
	color: #f1f5f9 !important;
	border: 1px solid #475569 !important;
}

/* Navigation and footer */
.dark-mode nav {
	background: rgba(15, 23, 42, 0.95) !important;
	backdrop-filter: blur(8px);
	border-bottom: 1px solid #334155 !important;
}

.dark-mode footer {
	background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%) !important;
	border-top: 1px solid #334155 !important;
}

/* Dark mode for text colors */
.dark-mode .text-slate-700,
.dark-mode .text-slate-600,
.dark-mode .text-slate-800,
.dark-mode .text-gray-900,
.dark-mode .text-gray-800 {
	color: #f1f5f9 !important;
}

.dark-mode .text-gray-700 {
	color: #e2e8f0 !important;
	font-weight: 500 !important;
}

.dark-mode .text-blue-600 {
	color: #60a5fa !important;
}

.dark-mode .text-green-600 {
	color: #34d399 !important;
}

.dark-mode .text-green-700 {
	color: #6ee7b7 !important;
	font-weight: 500 !important;
}

.dark-mode .text-green-800 {
	color: #a7f3d0 !important;
	font-weight: 600 !important;
}

/* Specific improvements for job cards in dark mode */
.dark-mode h2.text-gray-900 {
	color: #f8fafc !important;
	font-weight: bold !important;
}

/* Dark mode for buttons */
.dark-mode button:not(.text-size-btn):not(#dark-mode-toggle) {
	background: #374151 !important;
	color: #f1f5f9 !important;
	border: 1px solid #6b7280 !important;
}

.dark-mode button:hover:not(.text-size-btn):not(#dark-mode-toggle) {
	background: #4b5563 !important;
	border: 1px solid #9ca3af !important;
}

/* Dark mode for gradient buttons */
.dark-mode .bg-gradient-to-r.from-blue-600.to-green-600 {
	background: linear-gradient(135deg, #2563eb 0%, #059669 100%) !important;
	color: white !important;
	border: none !important;
}

/* Dark mode for links */
.dark-mode a {
	color: #60a5fa !important;
}

.dark-mode a:hover {
	color: #93c5fd !important;
}

/* Dark mode for accessibility panel */
.dark-mode #accessibility-panel {
	background: #1e293b !important;
	border: 1px solid #475569 !important;
	color: #f1f5f9 !important;
}

.dark-mode #accessibility-panel h3,
.dark-mode #accessibility-panel h4 {
	color: #f1f5f9 !important;
}

/* Dark mode for form elements */
.dark-mode input,
.dark-mode select,
.dark-mode textarea {
	background: #374151 !important;
	color: #f1f5f9 !important;
	border: 1px solid #6b7280 !important;
}

/* Dark mode for status indicators */
.dark-mode .bg-green-50 {
	background: #065f46 !important;
	color: #34d399 !important;
	border: 1px solid #059669 !important;
}

.dark-mode .bg-blue-50 {
	background: #1e3a8a !important;
	color: #60a5fa !important;
	border: 1px solid #2563eb !important;
}

.dark-mode .bg-blue-100 {
	background: #1e40af !important;
	color: #93c5fd !important;
	border: 1px solid #3b82f6 !important;
}

.dark-mode .bg-purple-50 {
	background: #581c87 !important;
	color: #c084fc !important;
	border: 1px solid #7c3aed !important;
}

/* Dark mode for badges */
.dark-mode .badge {
	background: #374151 !important;
	color: #f1f5f9 !important;
	border: 1px solid #6b7280 !important;
}

.dark-mode .badge-success {
	background: #065f46 !important;
	color: #10b981 !important;
}

.dark-mode .badge-warning {
	background: #92400e !important;
	color: #fbbf24 !important;
}

.dark-mode .badge-error {
	background: #991b1b !important;
	color: #f87171 !important;
}

/* Dark mode focus indicators */
.dark-mode *:focus {
	outline: 3px solid #60a5fa !important;
	outline-offset: 2px !important;
	box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.3) !important;
}
